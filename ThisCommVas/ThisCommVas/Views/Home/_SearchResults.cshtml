@model List<ThisCommVas.SearchProduct_Result>

@if (Model != null && Model.Any())
{
    <div class="row gx-4 gx-lg-5 row-cols-1 row-cols-md-2 row-cols-xl-3 justify-content-center">
        @foreach (var product in Model)
        {
            <div class="col mb-5">
                <div class="card h-100 position-relative">
                    <img src="data:image;base64,@Convert.ToBase64String(product.image_path)" class="card-img-top product-image" alt="@product.name">
                    <div class="card-body">
                        <h5 class="card-title">
                            <a href="#" data-bs-toggle="modal" data-bs-target="#productPreview-@product.product_id">@product.name</a>
                        </h5>
                        <div class="d-flex justify-content-end align-items-center mt-3">
                            <div>
                                <button class="btn btn-danger btn-sm delete-product-btn" data-product-id="@product.product_id" data-delete-url="@Url.Action("Delete", "DeleteProduct", new { productId = product.product_id })">
                                    <i class="bi-trash"></i>
                                </button>
                            </div>
                            <div>
                                <button class="btn btn-warning btn-sm edit-product-btn" data-product-id="@product.product_id" data-edit-url="@Url.Action("EditProduct", "Edit", new { productId = product.product_id })">
                                    <i class="bi-pencil"></i>
                                </button>
                            </div>
                            <div>
                                <button class="btn btn-success btn-sm add-to-cart" data-product-id="@product.product_id" data-add-to-cart-url="@Url.Action("AddToCart", "Cart")"><i class="bi-cart-plus"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>
}
else
{
    <p>No results found.</p>
}

<script src="~/Functions/This.js"></script>
